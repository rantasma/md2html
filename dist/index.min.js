!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},i=function(){function t(){this.rangeMetodths=new Array,this.ranges=new Array}return t.prototype.getRanges=function(){return this.ranges},t.prototype.setRanges=function(t){var e=this;this.rangeMetodths.forEach((function(r){e.ranges.push(r.filter(t,e.ranges))}))},t.prototype.add=function(t){this.rangeMetodths.push(t)},t.prototype.addMulti=function(t){this.rangeMetodths=n(this.rangeMetodths,t)},t.prototype.removeMulti=function(t){var e=t.slice(0);this.rangeMetodths=this.rangeMetodths.filter((function(t){return e.indexOf(t.name)>=0}))},t.prototype.removeRange=function(t){var e=t.slice(0);this.ranges=this.ranges.filter((function(t){return e.indexOf(t.name)>=0}))},t.prototype.update=function(t){this.ranges=new Array,this.setRanges(t)},t.prototype.analizeBySection=function(t,e,r){for(var n=t.ranges,i=0;i<n.length;i++){var o=n[i];if(e>o.from&&e+r<o.to)return!0}},t.prototype.analizeBySectionName=function(t,e,r){var i=n(this.ranges).filter((function(e){return e.name==t}))[0];return this.analizeBySection(i,e,r)},t.prototype.analizeAll=function(t,e){for(var r=[],n=0;n<this.ranges.length;n++){var i=this.ranges[n];this.analizeBySection(i,t,e)&&r.push({name:i.name,ignore:!0})}return r},t}(),o=function(t){var e=new RegExp("^\\t*\\s*");return e.exec(t)?e.exec(t)[0].length+1:0},a=function(t,e,r,n){t=function(t,e,r,n){for(var i=t.split("\n"),a="",l=!1,s=0,u=!1,p=0,f=new RegExp("^("+r+")"),c=new RegExp("^(\\t+|\\s+)+("+r+")"),h=new RegExp("<pre>"),g=new RegExp("^$"),y=0;y<i.length;y++){var v=i[y];if(!h.test(i[y])||u||l)if(u||!f.test(v)||l)if(l&&c.test(v)&&!u){var m=o(v);m>s&&(p++,s=m,v=v.replace(c,(function(t,r,n){return"<"+e+">\n"+r+n})))}else if(g.test(v)&&l){l=!1,s=0;for(var d="",x=0;x<p;x++)d+="</"+e+">";v=d,p=0}else u&&/<\/pre>/.test(v)?u=!1:l&&/<.?pre>/.test(v)&&(v="");else l=!0,s++,p++,v=v.replace(f,(function(t,r,n){return"<"+e+">\n"+r}));else u=!0;a+=v+"\n"}return a}(t,e,r),r=new RegExp("^[\\t*\\s*]*"+r,"");for(var i=new RegExp("^<"+e+">$"),a=new RegExp("^$"),l=t.split("\n"),s="",u=!1,p=0;p<l.length;p++){var f=l[p];i.test(f)&&0==u?(u=!0):a.test(f)&&u?(u=!1,0):u&&r.test(f)?f=f.replace(r,"<li>$1</li>"):u&&(i.test(f)?1:0),s+=f+"\n"}return s};function l(t){switch(!0){case":"==t[0]&&":"==t.slice(-1)[0]:return"center";case":"==t[0]:return"left";case":"==t.slice(-1)[0]:return"right";default:return""}}var s=function(t){for(var e=t.split("\n"),r=!1,n=new RegExp("^`{3}(.*)","m"),i=new RegExp("^`{3}(.*)","m"),o="",a=0;a<e.length;a++){var l=e[a];n.test(l)&&!r?(l=l.replace(n,"<pre>$1"),r=!0):i.test(l)?(l=l.replace(n,"</pre>$1"),r=!1):r&&(l=" "+l),o+=l+"\n"}return o},u=function(t){for(var e=t.split("\n"),r=!1,n=new RegExp("^(\\t|\\s{4})(.+)","m"),i=new RegExp("^$","g"),o="",a=0;a<e.length;a++){var l=e[a];n.test(l)&&!r?(l="<pre>\n "+l,r=!0):i.test(l)&&r?(l="</pre>\n",r=!1):r&&(l=" "+l),o+=l+"\n"}return o},p=[{name:"codeBlocks",priority:0,filter:function(t,e){return t=s(t),t=u(t),e.setRanges(t),t}},{name:"tables",priority:1,filter:function(t){try{var e=function(t){var e,r=new RegExp("(\n\\|(.*)\\|\n)((\n|-|\\|)\\s*\\W*-{3,}\\W*\\s*\\|)\n","g");return t=t.replace(r,(function(t,r,n,i,o){var a="\n<table>\n";return a+=function(t){var e=t.filter((function(t){return""!=t.trim()})).map((function(t){return t.trim()})),r="<thead>\n<tr>\n";return e.forEach((function(t){r+="<th>"+t+"</th>\n"})),r+="</tr>\n</thead>\n<tbody>\n"}(t.split("\n")[1].split("|")),e=t.split("\n")[2],a})),{align:e,text:t}}(t),r=e.align;return t=function(t,e){var r=new RegExp("^\\|(.*)\\|\\s*$","gm");(e=e.split("|").slice(1,-1)).length;return t=t.replace(r,(function(t,r,n,i){var o="<tr>\n",a=r.split("|").filter((function(t){return""!=t.trim()})).map((function(t){return t.trim()}));if(a.forEach((function(t,r){var n=l(e[r]);o+='<td align="'+n+'">'+t+"</td>\n"})),a.length<e.length)for(var s=0;s<e.length-a.length;s++){var u=l(e[a.length+s]);o+='<td align="'+u+'"></td>\n'}return o+="</tr>"}))}(t=function(t){var e=new RegExp("(\\|.*\\|)\n{2}","g");return t=t.replace(e,"$1\n</tbody>\n</table>\n")}(t=e.text),r)}catch(e){return t}}},{name:"Blockquote",priority:2,filter:function(t){for(var e="",r=t.split("\n"),n=!1,i=new RegExp("^>(\\s.+)","gm"),o=(new RegExp("^$","m"),0);o<r.length;o++){var a=r[o];i.test(a)&&!n?(a="\n<blockquote>\n"+a.replace(/^>\s/,""),n=!0):""==a&&n?(a="\n</blockquote>",n=!1):n&&""!=a&&(a=a.replace(/^>\s*/,"")),e+=a+"\n"}return e}},{name:"lists",priority:3,filter:function(t){try{return t=a(t,"ul","[-\\*]\\s(.*)"),t=a(t,"ol","\\d+[\\.\\)]\\s(.*)")}catch(e){return t}}},{name:"horizontalLine",priority:4,filter:function(t){return t.replace(/\n{2,}={4,}\n/g,"\n\n<hr/>\n").replace(/\n{2,}-{4,}\n/g,"\n\n<hr/>\n")}},{name:"titles",priority:5,filter:function(t){var e=new RegExp("^(#+)\\s(.+)\\n","gm");t=t.replace(e,(function(t,e,r,n,i){var o=e.length;return"<h"+o+' id="'+r.replace(/[\.*\s*]/g,"-").toLowerCase()+'">'+r+"</h"+o+">\n"}));var r=new RegExp("^(.+)\n(={3,}|-{3,})","gm");return t=t.replace(r,(function(t,e,r,n,i){var o="="==r[0]?"h1":"-"==r[0]?"h2":"p";return"<"+o+' id="'+e.replace(/[\.*\s*]/g,"-").toLowerCase()+'">'+e+"</"+o+">\n"}))}},{name:"paragraphs",priority:6,filter:function(t){for(var e=t.split("\n"),r="",n=!1,i=0;i<e.length;i++){var o=e[i];new RegExp("^[<\\s\\t]").test(o)?r+="\n"+o:n||""===o?n&&""==o?(r+="</p>\n",n=!1):r+="\n"+o:(r+="\n\n<p>"+o,n=!0)}return r}},{name:"inlineCode",priority:7,filter:function(t){var e=new RegExp("`(.*)`");return t=t.replace(e,"<code>$1</code>")}},{name:"emphasis",priority:8,filter:function(t){var e=t.replace(/(<p>.*)\*{2}(\S.*\S)\*{2}/g,"$1 <b>$2</b> "),r=(t=e.replace(/(<p>.*)_{2}(\S.*\S)_{2}/g," $1 <b>$2</b> ")).replace(/(<p>.*)[^\*]\*(\S.*\S)\*[^\*]/g," $1 <em>$2</em> "),n=(t=r.replace(/(<p>.*)[^_]_(\S.*\S)_/g," $1 <em>$2</em> ")).replace(/(<p>.*)~{2}(\S.*\S)~{2}/g,"$1 <del>$2</del>");return t=n}},{name:"images",priority:9,filter:function(t,e){var r=new RegExp("!\\[(.*)\\]\\[(.*)\\]");t=t.replace(r,(function(t,r,n,i,o){return e[n]?'<img src="'+e[n]+'" alt="'+r+'">':t}));var n=new RegExp("!\\[(.*)\\]\\((.*)\\)","g");return t.replace(n,'<img src="$2" alt="$1">')}},{name:"variables",priority:10,filter:function(t,e){var r=new RegExp("\\[(.*)\\]: (.*)","g");e.update(t);t=t.replace(r,(function(t,r,n,i,o){return e.analizeAll(i,t.length).length<=0?"":t}));return e.update(t),t}}],f=[{name:"codeblock",filter:function(t,e){var r={name:"codeblock",ranges:[]},n=new RegExp("<pre.*>","gm"),i=new RegExp("</pre>","gm"),o=[],a=[];return t.replace(n,(function(t,e){o.push(e)})),t.replace(i,(function(t,e){a.push(e)})),o.forEach((function(t,e){r.ranges.push({from:t,to:a[e]})})),r}}],c=function(){function t(){this.variables={}}return t.prototype.getVariablesFromText=function(t){var e=this,r=new RegExp("\\[(.*)\\]: (.*)","g");t=t.replace(r,(function(t,r,n,i,o){return e.variables[r]=n,t}))},t.prototype.getVariables=function(){return this.variables},t.prototype.setVariables=function(t,e){this.variables[t]=e},t.prototype.remove=function(t){delete this.variables[t]},t}(),h=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},g=function(){function t(t){this.text=t,this.ranges=new i,this.ranges.addMulti(f),this.variables=new c,this.filters=h(p)}return t.prototype.toHtml=function(){var t=this;this.htmlText=this.text;for(var e=function(e){r.filters.forEach((function(r){if(r.priority==e)try{t.htmlText=r.filter(t.htmlText,t.ranges,t.variables)}catch(t){console.error("it was a problem at filter ",r.name),console.error(t)}else r.priority-1>t.filters.length&&console.error("the filter "+r.name+" has a way higher priority number. it has to be between 0 - "+(t.filters.length-1))}))},r=this,n=0;n<this.filters.length;n++)e(n);return console.log(this.ranges.getRanges()),this.htmlText},t.prototype.getHtml=function(){return this.htmlText},t.prototype.addFilter=function(t){return t.priority=null==t.priority?this.filters.length:t.priority,!!this.validateNewPriority(t.priority)&&(this.updateFilterPriority(t.priority),this.filters.push(t),this.sortFilters(),!0)},t.prototype.removeFilter=function(t){this.filters=this.filters.filter((function(e){return t!=e.name}))},t.prototype.changePriority=function(t,e){if(!this.validateNewPriority(e))return!1;var r=h(this.filters).filter((function(e,r){if(e.name==t)return 1,!0}))[0];return r.priority>e?this.updateFilterPriority(e,r.priority,!0):this.updateFilterPriority(r.priority,e,!1),this.filters.map((function(r){return r.name==t&&(r.priority=e),r})),this.sortFilters(),!0},t.prototype.sortFilters=function(){this.filters.sort((function(t,e){return t.priority-e.priority}))},t.prototype.updateFilterPriority=function(t,e,r){void 0===t&&(t=0),void 0===e&&(e=this.filters.length-1),void 0===r&&(r=!0),r="boolean"==typeof r&&r?1:-1,this.filters.map((function(n){var i=n.priority;return i>=t&&i<=e&&(n.priority+=1*r),n}))},t.prototype.validateNewPriority=function(t){return!(t<0||t>this.filters.length)||(console.error("change priority "+t+" is not valid. is has to be a number between 0 - "+this.filters.length),!1)},t}();window.Md2Html=g}]);
//# sourceMappingURL=index.min.js.map