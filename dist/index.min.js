!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},i=function(){function t(){this.rangeMetodths=new Array,this.ranges=new Array}return t.prototype.getRanges=function(){return this.ranges},t.prototype.setRanges=function(t){var e=this;this.rangeMetodths.forEach((function(r){e.ranges.push(r.filter(t,e.ranges))}))},t.prototype.add=function(t){this.rangeMetodths.push(t)},t.prototype.addMulti=function(t){this.rangeMetodths=n(this.rangeMetodths,t)},t.prototype.removeMulti=function(t){var e=t.slice(0);this.rangeMetodths=this.rangeMetodths.filter((function(t){return e.indexOf(t.name)>=0}))},t.prototype.removeRange=function(t){var e=t.slice(0);this.ranges=this.ranges.filter((function(t){return e.indexOf(t.name)>=0}))},t.prototype.update=function(t){this.ranges=new Array,this.setRanges(t)},t.prototype.analizeBySection=function(t,e,r){for(var n=t.ranges,i=0;i<n.length;i++){var o=n[i];if(e>o.from&&e+r<o.to)return!0}},t.prototype.analizeBySectionName=function(t,e,r){var i=n(this.ranges).filter((function(e){return e.name==t}))[0];return this.analizeBySection(i,e,r)},t.prototype.analizeAll=function(t,e){for(var r=[],n=0;n<this.ranges.length;n++){var i=this.ranges[n];this.analizeBySection(i,t,e)&&r.push({name:i.name,ignore:!0})}return r},t}(),o=function(t,e,r,n){var i=new RegExp(r,"g");return t.replace(i,(function(t,r,i,o,a){return e.analizeAll(a,t.length).length<=0?r+" <"+n+">"+i+"</"+n+"> "+o:t}))},a=function(t,e,r,n){var i=t.split("\n"),o="",a=!1,l=0,u=0,s=new RegExp("^"+r+"\\s+.*"),p=new RegExp("^(\\t*)"+r+"\\s+(.*)");return i.forEach((function(t,r){i[r-1];var f=t.length;if(!a&&s.test(t)&&e.analizeAll(l,t.length))a=!0,t=t.replace(p,"<li>$2</li>"),t="\n<"+n+">\n"+t,u++;else if(a&&p.test(t))t=t.replace(p,(function(t,e,r,i){return e.length>=u?(u++,"<"+n+">\n<li>"+r+"</li>"):"<li>"+r+"</li>"}));else if(a&&/^[\s\w]*$/.test(t)){t="";for(var c=0;c<u;c++)t+="</"+n+">\n";a=!1,u=0}l+=f,o+=t+"\n"})),o};function l(t){switch(!0){case":"==t[0]&&":"==t.slice(-1)[0]:return"center";case":"==t[0]:return"left";case":"==t.slice(-1)[0]:return"right";default:return""}}var u=[{name:"codeBlocks_a",priority:0,filter:function(t,e){for(var r=t.split("\n"),n=!1,i=new RegExp("^`{3}(.*)","m"),o=new RegExp("^`{3}(.*)","m"),a="",l=0;l<r.length;l++){var u=r[l];i.test(u)&&!n?(u=u.replace(i,"<pre>$1"),n=!0):n&&o.test(u)?(u=u.replace(i,"</pre>$1"),n=!1):n&&(u=" "+(u=(u=(u=u.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\\`/g,"`"))),a+=u+"\n"}return a}},{name:"tables",priority:1,filter:function(t){try{var e=function(t){var e,r=new RegExp("(\n\\|(.*)\\|\n)((\n|-|\\|)\\s*\\W*-{3,}\\W*\\s*\\|)\n","g");return t=t.replace(r,(function(t,r,n,i,o){var a="\n<table>\n";return a+=function(t){var e=t.filter((function(t){return""!=t.trim()})).map((function(t){return t.trim()})),r="<thead>\n<tr>\n";return e.forEach((function(t){r+="<th>"+t+"</th>\n"})),r+="</tr>\n</thead>\n<tbody>\n"}(t.split("\n")[1].split("|")),e=t.split("\n")[2],a})),{align:e,text:t}}(t),r=e.align;return t=function(t,e){var r=new RegExp("^\\|(.*)\\|\\s*$","gm");(e=e.split("|").slice(1,-1)).length;return t=t.replace(r,(function(t,r,n,i){var o="<tr>\n",a=r.split("|").filter((function(t){return""!=t.trim()})).map((function(t){return t.trim()}));if(a.forEach((function(t,r){var n=l(e[r]);o+='<td align="'+n+'">'+t+"</td>\n"})),a.length<e.length)for(var u=0;u<e.length-a.length;u++){var s=l(e[a.length+u]);o+='<td align="'+s+'"></td>\n'}return o+="</tr>"}))}(t=function(t){var e=new RegExp("(\\|.*\\|)\n{2}","g");return t=t.replace(e,"$1\n</tbody>\n</table>\n\n")}(t=e.text),r)}catch(e){return t}}},{name:"Blockquote",priority:2,filter:function(t){for(var e="",r=t.split("\n"),n=!1,i=new RegExp("^>(\\s.+)","gm"),o=(new RegExp("^$","m"),0);o<r.length;o++){var a=r[o];i.test(a)&&!n?(a="\n<blockquote>\n"+a.replace(/^>\s/,""),n=!0):""==a&&n?(a="\n</blockquote>\n",n=!1):n&&""!=a&&(a=a.replace(/^>\s*/,"")),e+=a+"\n"}return e}},{name:"lists",priority:3,filter:function(t,e){return e.update(t),t=a(t,e,"[-\\*]","ul"),e.update(t),t=a(t,e,"\\d+[\\.\\)]","ol")}},{name:"codeBlocks_b",priority:4,filter:function(t,e){for(var r=t.split("\n"),n=!1,i=new RegExp("^(\\t|\\s{4})(.+)","m"),o=new RegExp("^[^\\s{4,}\\t+]","g"),a="",l=0;l<r.length;l++){var u=r[l];i.test(u)&&!n?(u="<pre>\n "+u,n=!0):o.test(u)&&n?(u.replace("\n",""),u="</pre>\n\n"+u,n=!1):n&&(u=" "+u),a+=u+"\n"}return e.update(t),a}},{name:"horizontalLine",priority:5,filter:function(t){return t.replace(/\n{2,}={4,}\n/g,"\n\n<hr/>\n").replace(/\n{2,}-{4,}\n/g,"\n\n<hr/>\n")}},{name:"titles",priority:6,filter:function(t){var e=new RegExp("^(#+)\\s(.+)\\n","gm");t=t.replace(e,(function(t,e,r,n,i){var o=e.length;return"<h"+o+' id="'+r.replace(/[\.*\s*]/g,"-").toLowerCase()+'">'+r+"</h"+o+">\n"}));var r=new RegExp("^(.+)\n(={3,}|-{3,})","gm");return t=t.replace(r,(function(t,e,r,n,i){var o="="==r[0]?"h1":"-"==r[0]?"h2":"p";return"<"+o+' id="'+e.replace(/[\.*\s*]/g,"-").toLowerCase()+'">'+e+"</"+o+">\n"}))}},{name:"paragraphs",priority:7,filter:function(t){for(var e=t.split("\n"),r="",n=!1,i=0;i<e.length;i++){var o=e[i];new RegExp("^[<\\s\\t]").test(o)?r+="\n"+o:n||""===o?n&&""==o?(r+="</p>\n",n=!1):r+="\n"+o:(r+="\n\n<p>"+o,n=!0)}return r}},{name:"inlineCode",priority:8,filter:function(t){var e=new RegExp("`(.*)`");return t=t.replace(e,"<code>$1</code>")}},{name:"emphasis",priority:9,filter:function(t,e){return e.update(t),t=o(t,e,"(.*)\\*{2}(\\S.*\\S)\\*{2}(.*)","b"),e.update(t),t=o(t,e,"(.*)_{2}(\\S.*\\S)_{2}(.*)","b"),e.update(t),t=o(t,e,"(.*[^\\*])\\*(\\S.*\\S)\\*([^\\*].*)","em"),e.update(t),t=o(t,e,"(.*[^_])_(\\S.*\\S)_([^_].*)","em"),e.update(t),t=o(t,e,"(.*)~{2}(\\S.*\\S)~{2}(.*)","del"),e.update(t),t}},{name:"images",priority:10,filter:function(t,e,r){return e.update(t),t=function(t,e,r){var n=new RegExp("!\\[(.*)\\]\\((.*)\\)(\\d*)","g");return t=t.replace(n,(function(t,n,i,o,a,l){if(e.analizeAll(a,t.length).length<=0){var u=r.getVariables()[i];return u?'<img src="'+u+'" alt="'+n+'" style="max-width:'+o+'px">':'<img src="'+i+'" alt="'+n+'" style="max-width:'+o+'px">'}return t}))}(t,e,r),e.update(t),t}},{name:"variables",priority:11,filter:function(t,e){var r=new RegExp("\\[(.*)\\]: (.*)","g");e.update(t);t=t.replace(r,(function(t,r,n,i,o){return e.analizeAll(i,t.length).length<=0?"":t}));return e.update(t),t}},{name:"anchors",priority:12,filter:function(t,e,r){e.update(t);var n=new RegExp("\\[(.*)\\]\\[(.*)\\]","g"),i=new RegExp("\\[(.*)\\]\\((.*)\\)","g");return t=t.replace(n,(function(t,n,i,o,a){if(e.analizeAll(o,t.length).length<=0){var l=r.getVariables()[i];return l?'<a href="'+l+'">'+n+"</a>":t}return t})),e.update(t),t=t.replace(i,(function(t,r,n,i,o){return e.analizeAll(i,t.length).length<=0?'<a href="'+n+'">'+r+"</a>":t})),e.update(t),t}}],s=[{name:"codeblock",filter:function(t,e){var r={name:"codeblock",ranges:[]},n=new RegExp("<.*pre.*>","gm"),i=[],o=[];return t.replace(n,(function(t,e){return t.indexOf("</")>=0?o.push(e):i.push(e),t})),i.forEach((function(t,e){r.ranges.push({from:t,to:o[e]})})),r}}],p=function(){function t(){this.variables={}}return t.prototype.getVariablesFromText=function(t){var e=this,r=new RegExp("\\[(.*)\\]: (.*)","g");t=t.replace(r,(function(t,r,n,i,o){return e.variables[r]=n,t}))},t.prototype.getVariables=function(){return this.variables},t.prototype.setVariables=function(t,e){this.variables[t]=e},t.prototype.remove=function(t){delete this.variables[t]},t}(),f=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n},c=function(){function t(t){this.text=t,this.ranges=new i,this.ranges.addMulti(s),this.variables=new p,this.filters=f(u)}return t.prototype.toHtml=function(){var t=this;this.htmlText=this.text,this.variables.getVariablesFromText(this.htmlText);for(var e=function(e){r.filters.forEach((function(r){if(r.priority==e)try{t.htmlText=r.filter(t.htmlText,t.ranges,t.variables)}catch(t){console.error("it was a problem at filter ",r.name),console.error(t)}else r.priority-1>t.filters.length&&console.error("the filter "+r.name+" has a way higher priority number. it has to be between 0 - "+(t.filters.length-1))}))},r=this,n=0;n<this.filters.length;n++)e(n);return console.log(this.ranges.getRanges()),this.htmlText},t.prototype.getHtml=function(){return this.htmlText},t.prototype.addFilter=function(t){return t.priority=null==t.priority?this.filters.length:t.priority,!!this.validateNewPriority(t.priority)&&(this.updateFilterPriority(t.priority),this.filters.push(t),this.sortFilters(),!0)},t.prototype.removeFilter=function(t){this.filters=this.filters.filter((function(e){return t!=e.name}))},t.prototype.changePriority=function(t,e){if(!this.validateNewPriority(e))return!1;var r=f(this.filters).filter((function(e,r){if(e.name==t)return 1,!0}))[0];return r.priority>e?this.updateFilterPriority(e,r.priority,!0):this.updateFilterPriority(r.priority,e,!1),this.filters.map((function(r){return r.name==t&&(r.priority=e),r})),this.sortFilters(),!0},t.prototype.sortFilters=function(){this.filters.sort((function(t,e){return t.priority-e.priority}))},t.prototype.updateFilterPriority=function(t,e,r){void 0===t&&(t=0),void 0===e&&(e=this.filters.length-1),void 0===r&&(r=!0),r="boolean"==typeof r&&r?1:-1,this.filters.map((function(n){var i=n.priority;return i>=t&&i<=e&&(n.priority+=1*r),n}))},t.prototype.validateNewPriority=function(t){return!(t<0||t>this.filters.length)||(console.error("change priority "+t+" is not valid. is has to be a number between 0 - "+this.filters.length),!1)},t}();window.Md2Html=c}]);
//# sourceMappingURL=index.min.js.map